<!-- backend/templates/login.html -->
<!DOCTYPE html>
<html>
  <head>
    <title>Login</title>
<!-- Include Firebase SDKs from version 10.14.1 -->
<script src="https://www.gstatic.com/firebasejs/10.14.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.14.1/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/ui/6.1.1/firebase-ui-auth.js"></script>
<link type="text/css" rel="stylesheet" href="https://www.gstatic.com/firebasejs/ui/6.1.1/firebase-ui-auth.css" />
<script>
  // Your web app's Firebase configuration
  const firebaseConfig = {
    apiKey: "AIzaSyA6zpoyx3DPFTydwFUB11drJAiyfOWRwWA",
    authDomain: "hackathonproject-89255.firebaseapp.com",
    projectId: "hackathonproject-89255",
    storageBucket: "hackathonproject-89255.appspot.com",
    messagingSenderId: "414382919249",
    appId: "1:414382919249:web:c06b40bb5cc309288c3270"
  };

  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);
  const auth = firebase.auth(); // Use firebase.auth() to initialize auth

  // FirebaseUI config.
  const uiConfig = {
    signInSuccessUrl: '/',
    signInOptions: [
      firebase.auth.GoogleAuthProvider.PROVIDER_ID,
      firebase.auth.FacebookAuthProvider.PROVIDER_ID,
      firebase.auth.TwitterAuthProvider.PROVIDER_ID,
      firebase.auth.GithubAuthProvider.PROVIDER_ID,
      firebase.auth.EmailAuthProvider.PROVIDER_ID,
      firebase.auth.PhoneAuthProvider.PROVIDER_ID,
    ],
    tosUrl: '/terms-of-service',
    privacyPolicyUrl: function() {
      window.location.assign('/privacy');
    }
  };

  // Initialize the FirebaseUI Widget using Firebase.
  const ui = new firebaseui.auth.AuthUI(auth); // Use the initialized auth
  window.onload = function() {
    ui.start('#firebaseui-auth-container', uiConfig);
  };
  // Add the auth listener that fires when auth state changes
  auth.onAuthStateChanged(user => {
    if (user) {
      // User is signed in.
      console.log('User is signed in');
    } else {
      // User is signed out.
      console.log('User is signed out');
    }
  });
</script>

  </head>
  <body>
    <!-- The element where FirebaseUI will render -->
    <div id="firebaseui-auth-container"></div>
  </body>
</html>
